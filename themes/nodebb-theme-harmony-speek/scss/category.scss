.speek-topic-metrics {
	display: inline-flex;
	align-items: center;
	gap: 8px;
	font-family: "DM Sans", var(--bs-body-font-family);
	color: #355e66;

	.speek-badge {
		display: inline-flex;
		align-items: center;
		gap: 4px;
		padding: 2px 12px;
		border-radius: 8px;
		font-size: 12px;
		font-weight: 600;
		line-height: 1.333;
		letter-spacing: 0.01em;
		text-transform: none;
		color: inherit;

		&__label,
		&__suffix {
			color: inherit;
			font-family: inherit;
		}
	}
}

.speek-badge--posts {
	background: rgba(255, 255, 255, 0.5);
	border: 1px solid #f3f1e9;
	color: #355e66;
}

.speek-badge--new {
	background: #b6d3da;
	border: 1px solid transparent;
	color: #192c30;

	.speek-badge__label,
	.speek-badge__suffix {
		color: #192c30;
	}
}

// Categories page styling based on Figma design
.category-header .description p { margin: 0; }
.page-category .breadcrumb .breadcrumb-item:last-child {
	display: none;
}

// Remove all padding and margin for categories page to make it full width
.page-categories {
	#panel {
		margin-top: 0 !important;
	}
	
	#content {
		padding: 0 !important;
		margin: 0 !important;
		max-width: 100% !important;
	}
	
	.container-lg {
		padding: 0 !important;
		margin: 0 !important;
		max-width: 100% !important;
	}

	// Remove padding from widget areas
	[data-widget-area="header"] {
		padding-left: 0 !important;
		padding-right: 0 !important;
		margin-left: 0 !important;
		margin-right: 0 !important;
	}

	// Remove padding from row container
	.row.flex-fill {
		margin-left: 0 !important;
		margin-right: 0 !important;
		padding-left: 0 !important;
		padding-right: 0 !important;
	}

	// Remove padding from all Bootstrap columns
	.col-lg-9,
	.col-lg-12,
	.col-sm-12,
	[class*="col-"] {
		padding-left: 0 !important;
		padding-right: 0 !important;
	}

	// Remove padding from all container types
	.container,
	.container-fluid,
	.container-lg,
	.container-md,
	.container-sm,
	.container-xl,
	.container-xxl {
		padding-left: 0 !important;
		padding-right: 0 !important;
	}
}

.categories-selector-container {
	margin-bottom: 0;
	padding-left: 0 !important;
	padding-right: 0 !important;
}

// Ensure parent containers don't break grid
.page-categories .row.flex-fill > div.col-lg-9,
.page-categories .row.flex-fill > div.col-lg-12,
.page-categories .row.flex-fill > div[class*="col-"] {
	max-width: 100% !important;
	margin: 0 auto;
	margin-left: 0 !important;
	margin-right: 0 !important;
	padding-left: 0 !important;
	padding-right: 0 !important;
}

// Remove padding from categories-page and its parent column
// Target the column that contains categories-page
.row.flex-fill > div.col-lg-9,
.row.flex-fill > div.col-lg-12,
.row.flex-fill > div.col-sm-12 {
	&:has(.categories-page) {
		padding-left: 0 !important;
		padding-right: 0 !important;
	}
}

// Fallback for browsers that don't support :has()
.page-categories .row.flex-fill > div.col-lg-9,
.page-categories .row.flex-fill > div.col-lg-12,
.page-categories .row.flex-fill > div.col-sm-12 {
	padding-left: 0 !important;
	padding-right: 0 !important;
}

.categories-page {
	max-width: 100% !important;
	margin: 0 !important;
	margin-left: 0 !important;
	margin-right: 0 !important;
	padding: 0 !important;
	padding-left: 0 !important;
	padding-right: 0 !important;
	display: flex;
	flex-direction: column;
	align-items: center;
	gap: 0;
	width: 100% !important;
	box-sizing: border-box;
}

.categories-grid {
	display: grid;
	grid-template-columns: repeat(2, minmax(0, 1fr));
	gap: 40px;
	width: 100% !important;
	max-width: 100% !important;
	padding: 0 !important;
	padding-left: 0 !important;
	padding-right: 0 !important;
	margin: 0 !important;
	margin-left: 0 !important;
	margin-right: 0 !important;
	align-self: stretch;
	box-sizing: border-box;
}

.category-card {
	position: relative;
	display: flex;
	flex-direction: column;
	gap: 16px;
	background-color: var(--speek-card, #fdfdfc);
	border: 1px solid var(--speek-accent-muted, #f6ffa3);
	border-radius: 16px;
	padding: 40px 24px 24px;
	box-shadow: 0 0 0 0 rgba(0, 0, 0, 0);
	transition: box-shadow 0.2s ease;
	min-height: 220px;
	overflow: visible;
}

.category-card:hover {
	box-shadow: 0px 4px 6px -4px rgba(0, 0, 0, 0.05),
		0px 10px 15px -3px rgba(0, 0, 0, 0.05);
}

.category-card .category-icon-container {
	position: absolute;
	top: -24px;
	left: 24px;
	width: 48px;
	height: 48px;
	padding: 12px;
	border-radius: 9999px;
	background-color: var(--speek-accent-muted, #f6ffa3);
	display: flex;
	align-items: center;
	justify-content: center;
	box-shadow: 0px 4px 6px -4px rgba(0, 0, 0, 0.05),
		0px 10px 15px -3px rgba(0, 0, 0, 0.05);
	z-index: 1;
}

.category-card .category-icon-container .icon,
.category-card .category-icon-container svg {
	width: 24px;
	height: 24px;
	font-size: 12px;
}

.category-card .category-content {
	display: flex;
	flex-direction: column;
	gap: 8px;
	flex: 1;
}

.category-card .category-title-section {
	display: flex;
	flex-direction: column;
	gap: 4px;
}

.category-card .category-title {
	font-family: "DM Sans", var(--bs-body-font-family);
	font-weight: 700;
	font-size: 18px;
	line-height: 1.556;
	color: var(--speek-fg, #355e66);
	margin: 0;
}

.category-card .category-title a {
	color: inherit;
	text-decoration: none;

	&:hover {
		color: inherit;
		text-decoration: none;
	}
}

.category-card .category-description {
	font-family: "DM Sans", var(--bs-body-font-family);
	font-weight: 400;
	font-size: 14px;
	line-height: 1.429;
	color: #525252 !important;
	margin: 0;
}

.category-card .category-badges {
	display: flex;
	flex-wrap: wrap;
	gap: 8px;
	align-items: center;
	margin-top: 8px;
	margin-bottom: 8px;
}

.category-card .category-badges .badge {
	display: inline-flex;
	align-items: center;
	gap: 4px;
	padding: 2px 8px;
	border-radius: 8px;
	font-weight: 600;
	font-size: 12px;
	line-height: 1.333;
	font-family: "DM Sans", var(--bs-body-font-family);
	border: 1px solid transparent;
	white-space: nowrap;
}

.category-card .badge-posts {
	background-color: rgba(255, 255, 255, 0.5);
	border: 1px solid var(--speek-border, #f3f1e9);
	color: var(--speek-fg, #355e66);
}

.category-card .badge-new {
	background-color: var(--speek-primary, #b6d3da);
	border: 1px solid rgba(255, 255, 255, 0);
	color: var(--speek-primary-fg, #192c30);
}

.category-card .category-children {
	display: flex;
	flex-wrap: wrap;
	gap: 0.5rem 1rem;
	padding: 0;
	margin: 0.5rem 0;
	list-style: none;
}

.category-card .category-children li::before {
	content: "â€¢";
	color: var(--speek-primary-fg, #27454b);
	margin-right: 0.4rem;
}

.category-card .category-children a {
	text-decoration: none;
	color: var(--speek-fg, #27454b);
	font-weight: 600;
	font-size: 0.875rem;

	&:hover {
		text-decoration: underline;
	}
}

.btn-view-space {
	align-self: flex-start;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	gap: 8px;
	padding: 8px 16px;
	height: 36px;
	border-radius: 9999px;
	border: 1px solid #d4d4d4;
	background-color: #fdfdfc;
	font-weight: 700;
	font-size: 14px;
	line-height: 1.429;
	font-family: "DM Sans", var(--bs-body-font-family);
	color: var(--speek-fg, #355e66);
	text-decoration: none;
	box-shadow: 0px 2px 4px -2px rgba(0, 0, 0, 0.05),
		0px 4px 6px -1px rgba(0, 0, 0, 0.05);
	transition: all 0.2s ease;
	margin-top: auto;

	i,
	svg {
		font-size: 16px;
		width: 16px;
		height: 16px;
	}

	&:hover {
		border-color: var(--speek-fg, #355e66);
		color: var(--speek-fg, #355e66);
		text-decoration: none;
		background-color: #f8f8f8;
	}

	&:active {
		transform: translateY(1px);
		box-shadow: 0px 1px 2px -1px rgba(0, 0, 0, 0.05),
			0px 2px 3px -1px rgba(0, 0, 0, 0.05);
	}
}

.btn-view-space__label {
	display: inline;
}

.pagination-container {
	width: 100%;
	display: flex;
	justify-content: center;
	margin-top: 0;
}

// Responsive adjustments - Mobile: 1 column layout
@media (max-width: 767px) {
	.categories-page {
		padding: 0;
	}

	.categories-grid {
		grid-template-columns: 1fr;
		gap: 32px;
		padding: 0;
	}

	.category-card {
		padding: 32px 20px 20px;

		.category-icon-container {
			left: 20px;
			top: -20px;
		}
	}
}

// Tablet and above: 2 columns layout
@media (min-width: 768px) {
	.categories-grid {
		grid-template-columns: repeat(2, minmax(0, 1fr));
	}
}

// =====================================
// Category Landing Page (Individual Category View in iframe)
// =====================================

// Design tokens - Figma pixel-perfect specs
$speek-primary: #355E66;                     // Primary text color (Figma)
$speek-secondary-text: #525252;              // Secondary text (Figma)
$speek-card-bg: #FDFDFC;                     // Card background (Figma)
$speek-accent: #E6FF00;                      // Lime green - primary button
$speek-accent-fg: #27454B;                   // Dark teal - text on accent
$speek-border: #d4d4d4;                      // Standard border
$speek-border-light: #f3f1e9;                // Light border
$speek-ghost-bg: rgba(230, 226, 210, 0.9);  // Ghost button bg
$speek-badge-outline: rgba(255, 255, 255, 0.5); // Badge bg

// Hide breadcrumbs completely in iframe
.page-category .breadcrumb {
	display: none !important;
}

// =====================================
// Category Header Section
// =====================================
.speek-category-header {
	padding-top: 24px;
	padding-bottom: 24px;
	padding-left: 0 !important;
	padding-right: 0 !important;
	background: transparent;

	.speek-header-content {
		display: flex;
		flex-direction: column;
		gap: 24px;
		max-width: 100%;
	}

	.speek-header-bar {
		display: flex;
		align-items: center;
		justify-content: space-between;
		gap: 16px;
		flex-wrap: wrap;
		width: 100%;
	}

	.speek-header-bar-left {
		display: flex;
		align-items: center;
		gap: 12px;
	}

	.speek-header-actions {
		display: flex;
		align-items: center;
		justify-content: flex-end;
		gap: 12px;
		flex-wrap: wrap;
	}

	.speek-back-button {
		display: inline-flex;
		align-items: center;
		justify-content: center;
		width: 44px;
		height: 44px;
		border-radius: 9999px;
		border: 1px solid $speek-border;
		background: $speek-card-bg;
		color: $speek-primary;
		text-decoration: none;
		box-shadow: 0 2px 4px -2px rgba(17, 24, 39, 0.12),
			0 1px 2px rgba(17, 24, 39, 0.08);
		transition: box-shadow 0.2s ease, transform 0.2s ease,
			color 0.2s ease, border-color 0.2s ease;

		&:hover {
			text-decoration: none;
			transform: translateY(-1px);
			box-shadow: 0 6px 12px -6px rgba(17, 24, 39, 0.2);
		}

		&:focus-visible {
			outline: none;
			border-color: $speek-primary;
			box-shadow: 0 0 0 3px rgba($speek-primary, 0.12);
		}
	}

	.speek-back-button__icon {
		display: inline-flex;
		align-items: center;
		justify-content: center;
	}

	.speek-back-button__chevron {
		width: 20px;
		height: 20px;
		color: currentColor;
	}

	.speek-back-button__label {
		position: absolute;
		width: 1px;
		height: 1px;
		padding: 0;
		margin: -1px;
		overflow: hidden;
		clip: rect(0, 0, 0, 0);
		border: 0;
		white-space: nowrap;
	}

	.speek-header-main {
		display: flex;
		flex-direction: column;
		gap: 8px;
	}

	.speek-category-title {
		font-family: "DM Sans", var(--bs-body-font-family);
		font-size: 24px;
		font-weight: 700;
		line-height: 1.333;
		color: #355e66;
		margin: 0;
	}

	.speek-category-description {
		font-family: "DM Sans", var(--bs-body-font-family);
		font-size: 16px;
		font-weight: 400;
		line-height: 1.5;
		color: #525252;

		p {
			margin: 0;
		}
	}
}

// =====================================
// Action Bar (Styled topic-list-bar)
// =====================================

// Style the existing topic-list-bar with Speek design
.page-category {
	.topic-list-header {
		.d-flex.flex-row.p-2 {
			background: transparent !important;
			border: none !important;
			padding-top: 16px !important;
			padding-bottom: 16px !important;
			padding-left: 0 !important;
			padding-right: 0 !important;
		}

		[component="category/controls"] {
			gap: 16px !important;
		}

		// Style category pills (watch, sort dropdowns)
		.category-pill {
			.category-pill__trigger {
				background: $speek-ghost-bg;  // Figma: rgba(230, 226, 210, 0.9)
				backdrop-filter: blur(12px);
				color: $speek-primary;
				border: 1px solid transparent;
				border-radius: 9999px !important;  // Fully rounded pill shape
				padding: 8px 32px;  // Figma spec: 8px 32px
				height: 44px;
				font-family: "DM Sans", var(--bs-body-font-family);
				font-weight: 700;
				font-size: 14px;
				line-height: 1.4285714285714286em;
				display: inline-flex;
				align-items: center;
				gap: 8px;

				&:hover {
					background: rgba(230, 226, 210, 1);
					color: $speek-primary;
				}

				.category-pill__icon {
					display: inline-flex;
					align-items: center;
					justify-content: center;
					width: 16px;
					height: 16px;
					
					i {
						font-size: 16px;
						display: inline-block;
						width: 16px;
						text-align: center;
					}
					
					i.fa {
						font-family: "FontAwesome" !important;
						font-style: normal;
						font-weight: normal;
						line-height: 1;
					}
				}

				.category-pill__caret {
					display: inline-flex;
					align-items: center;
					justify-content: center;
					margin-left: 4px;
					width: 12px;
					height: 12px;
					
					i {
						font-size: 12px;
						display: inline-block;
						width: 12px;
						text-align: center;
					}
					
					i.fa {
						font-family: "FontAwesome" !important;
						font-style: normal;
						font-weight: normal;
						line-height: 1;
					}
				}
			}
		}

		// Style filter/sort buttons as ghost buttons
		.btn-ghost,
		.dropdown > button,
		.btn-group > button {
			background: $speek-ghost-bg;  // Figma: rgba(230, 226, 210, 0.9)
			backdrop-filter: blur(12px);
			color: $speek-primary;
			border: 1px solid transparent;
			border-radius: 9999px !important;  // Fully rounded pill shape
			padding: 8px 32px;  // Figma spec: 8px 32px
			height: 44px;
			font-family: "DM Sans", var(--bs-body-font-family);
			font-weight: 700;
			font-size: 14px;
			line-height: 1.4285714285714286em;

			&:hover {
				background: rgba(230, 226, 210, 1);
				color: $speek-primary;
			}

			i {
				font-size: 16px;
				display: inline-block;
				width: 16px;
				text-align: center;
			}
			
			i.fa {
				font-family: "FontAwesome" !important;
				font-style: normal;
				font-weight: normal;
				line-height: 1;
			}
		}

		// Style New Post button as primary (Figma: lime green #E6FF00)
		.btn-primary {
			background: $speek-accent !important;  // #E6FF00
			color: $speek-accent-fg !important;    // #27454B
			border: none !important;
			border-radius: 9999px !important;  // Fully rounded pill shape
			padding: 8px 32px !important;  // Figma spec: 8px 32px
			height: 44px !important;  // Figma spec: Size=lg
			font-family: "DM Sans", var(--bs-body-font-family) !important;
			font-weight: 700 !important;
			font-size: 14px !important;
			line-height: 1.4285714285714286em !important;
			display: inline-flex !important;
			align-items: center !important;
			justify-content: center !important;
			gap: 8px !important;  // Gap between icon and text
			box-shadow: 0px 4px 6px -4px rgba(0, 0, 0, 0.05),
				0px 10px 15px -3px rgba(0, 0, 0, 0.05) !important;

			&:hover {
				background: darken($speek-accent, 5%) !important;
				color: $speek-accent-fg !important;
				transform: translateY(-1px);
				box-shadow: 0px 6px 10px -4px rgba(0, 0, 0, 0.1),
					0px 12px 20px -3px rgba(0, 0, 0, 0.1);
			}

			span {
				font-family: "DM Sans", var(--bs-body-font-family);
				font-weight: 700;
				font-size: 14px;
			}

			.lucide-icon.speek-btn-icon {
				width: 20px;
				height: 20px;
			}
		}

		// Hide RSS feed
		.btn-ghost[href*="rss"] {
			display: none !important;
		}

		// Hide tools dropdown
		.thread-tools {
			display: none !important;
		}

		// Hide tags filter dropdown - more specific selectors
		.tags-dropdown,
		[component="tags/filter"],
		.bottom-sheet.tags-dropdown,
		.category-pill[data-bs-toggle="dropdown"]:has(.fa-tags),
		button:has(> span:contains("All tags")),
		.topic-list-header .category-pill:has([class*="tag"]) {
			display: none !important;
		}

		// Figma layout: space-between with 16px gap between buttons
		[component="category/controls"] {
			flex: 1;
			justify-content: flex-start;
			gap: 16px !important;  // Figma spec: 16px gap between left buttons
		}
		
		// Right side container should align to the right
		> div > .d-flex.gap-1.align-items-center:last-child {
			margin-left: auto;
			gap: 16px !important;  // Figma spec
		}
	}

	// =====================================
	// Responsive: Mobile (max-width: 767px)
	// =====================================
	@include mobile {
		.topic-list-header {
			.d-flex.flex-row.p-2 {
				flex-direction: column !important;  // Column layout on mobile
				gap: 12px !important;  // Figma: 12px gap between sections
				padding: 16px !important;
				align-items: stretch !important;
			}

			// Badges container - stays on top, side by side
			.speek-topic-metrics {
				display: flex !important;
				align-items: center;
				gap: 8px !important;  // Gap between badges
				width: 100%;
				margin-right: 0 !important;  // Remove me-auto on mobile
				margin-left: 0 !important;
				justify-content: flex-start !important;  // Align badges to left
			}

			// Controls container - row layout to keep all buttons in one line
			.d-flex.align-items-center.gap-3.ms-auto {
				flex-direction: row !important;  // Row layout - all buttons in one line
				align-items: center !important;
				gap: 16px !important;  // Gap between button groups
				width: 100% !important;
				margin-left: 0 !important;
				flex-wrap: nowrap !important;  // Keep all buttons in one row
			}

			// Filter buttons row (Tracking, Recently replied) - in a row, side by side
			[component="category/controls"] {
				width: auto !important;
				justify-content: flex-start !important;  // Align filter buttons to left
				gap: 16px !important;  // 16px gap between buttons
				flex-wrap: nowrap !important;  // Keep buttons in one row
				display: flex !important;
				flex-direction: row !important;
				align-items: center !important;
			}

			// Ensure buttons can show their full content
			.category-pill {
				flex-shrink: 0 !important;  // Don't shrink buttons
				min-width: auto !important;  // Allow buttons to size to content
				width: auto !important;  // Auto width based on content
			}

			// Button group container (New post button) - keep in same row
			.d-flex.gap-1.align-items-center {
				width: auto !important;  // Auto width, not full width
				gap: 16px !important;
				display: flex !important;
				flex-shrink: 0 !important;  // Don't shrink
			}

			// Mobile: Icon-only buttons - adjust padding for icons only
			.category-pill .category-pill__trigger {
				padding: 10px 15px !important;  // Increased padding for icon-only buttons
				min-width: 48px !important;  // Increased minimum width for better touch target
				width: auto !important;  // Auto width
				justify-content: center !important;  // Center icons
			}

			// Mobile: Smaller button padding for other buttons
			.btn-ghost,
			.dropdown > button,
			.btn-group > button {
				padding: 8px 16px !important;  // Mobile: 8px 16px
				min-width: auto !important;  // Allow buttons to size based on content
				width: auto !important;  // Auto width
				white-space: nowrap !important;  // Prevent text wrapping
				flex-shrink: 0 !important;  // Don't shrink
			}

			// Hide text labels on mobile - show icons only
			.category-pill__label {
				display: none !important;  // Hide text labels on mobile
			}

			// Hide watch state labels on mobile - show icons only
			.category-watch__state-label {
				display: none !important;  // Hide text labels on mobile
			}

			// Category watch state - only show if not hidden
			.category-watch__state:not(.hidden) {
				display: inline-flex !important;
				visibility: visible !important;
			}

			// Hide states that have the hidden class
			.category-watch__state.hidden {
				display: none !important;
				visibility: hidden !important;
			}

			// Hide watch state labels even when state is visible (mobile icon-only)
			.category-watch__state:not(.hidden) .category-watch__state-label {
				display: none !important;  // Hide text labels on mobile, show icons only
			}

			// Ensure category watch current container is visible
			.category-watch__current {
				display: inline-flex !important;
				visibility: visible !important;
			}

			// Ensure category pill trigger has proper display
			.category-pill__trigger {
				display: inline-flex !important;
				align-items: center !important;
				gap: 4px !important;  // Smaller gap between icon and caret for icon-only buttons
			}

			// Ensure caret is visible on mobile
			.category-pill__caret {
				display: inline-flex !important;
				visibility: visible !important;
			}

			// Mobile: New post button - keep in same row, but wider
			.btn-primary {
				width: auto !important;  // Auto width, not full width
				min-width: 120px !important;  // Minimum width for better visibility
				padding: 8px 24px !important;  // Increased padding for wider button
				flex-shrink: 0 !important;  // Don't shrink
			}
		}
	}

	// =====================================
	// Responsive: Tablet (768px - 1023px)
	// =====================================
	@include tablet {
		.topic-list-header {
			overflow: visible !important;  // Allow content to be visible
			
			.d-flex.flex-row.p-2 {
				flex-direction: row !important;  // Row layout on tablet
				justify-content: space-between !important;  // Figma: space-between
				gap: 10px !important;  // Figma: 10px gap
				align-items: center !important;
				padding-top: 16px !important;
				padding-bottom: 16px !important;
				padding-left: 0 !important;
				padding-right: 0 !important;
				flex-wrap: nowrap !important;  // Keep everything in one horizontal line
				min-width: 0 !important;  // Allow container to shrink
				max-width: 100% !important;  // Ensure it doesn't exceed container width
				box-sizing: border-box !important;  // Include padding in width calculation
			}

			// Badges container - push to left
			.speek-topic-metrics {
				margin-right: auto !important;  // Push to left
				margin-left: 0 !important;
				flex-shrink: 0 !important;  // Don't shrink badges
			}

			// Controls container - ensure proper alignment in one row
			.d-flex.align-items-center.gap-3.ms-auto {
				flex-direction: row !important;  // All buttons in one row
				align-items: center !important;
				gap: 12px !important;  // Reduced gap to prevent overflow
				margin-left: auto !important;  // Push to right
				flex-wrap: nowrap !important;  // Prevent wrapping within button group
				width: auto !important;  // Auto width, don't take full width
				flex-shrink: 0 !important;  // Don't shrink button group
			}

			// Filter buttons container - override default flex: 1
			[component="category/controls"] {
				flex: 0 0 auto !important;  // Override default flex: 1, don't grow or shrink
				justify-content: flex-start !important;
				gap: 12px !important;  // Reduced gap between filter buttons
				flex-wrap: nowrap !important;  // Keep filter buttons together
				display: flex !important;
				flex-direction: row !important;
				flex-shrink: 0 !important;  // Don't shrink filter buttons
			}

			// New post button container - ensure it stays in the row
			.d-flex.gap-1.align-items-center {
				flex-shrink: 0 !important;  // Don't shrink
				flex-grow: 0 !important;  // Don't grow
				width: auto !important;  // Auto width
				margin-left: 0 !important;  // Override any margin-left: auto from default
			}

			// Tablet: Standard button padding (8px 32px) - but allow reduction if needed
			.category-pill .category-pill__trigger,
			.btn-ghost,
			.dropdown > button,
			.btn-group > button {
				padding: 8px 24px !important;  // Slightly reduced padding for tablet
				flex-shrink: 0 !important;  // Don't shrink buttons themselves
			}

			.btn-primary {
				padding: 8px 24px !important;  // Slightly reduced padding for tablet
				width: auto !important;  // Normal width (hug content)
				flex-shrink: 0 !important;  // Don't shrink button itself
			}
		}
	}
}

// Button Styles
.speek-btn {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	gap: 8px;
	padding: 8px 32px;
	height: 44px;
	border-radius: 9999px;
	font-family: "DM Sans", var(--bs-body-font-family);
	font-size: 14px;
	font-weight: 700;
	line-height: 1.429;
	text-decoration: none;
	transition: all 0.2s ease;
	border: none;
	cursor: pointer;
	white-space: nowrap;

	i {
		font-size: 16px;
		width: 16px;
		height: 16px;
	}
}

.speek-btn-ghost {
	background: rgba(255, 255, 255, 0.7);
	backdrop-filter: blur(12px);
	color: $speek-primary;
	border: 1px solid transparent;

	&:hover {
		background: rgba(255, 255, 255, 0.9);
		color: $speek-primary;
		text-decoration: none;
	}
}

.speek-btn-primary {
	background: $speek-accent;
	color: $speek-accent-fg;
	box-shadow: 0px 4px 6px -4px rgba(0, 0, 0, 0.05),
		0px 10px 15px -3px rgba(0, 0, 0, 0.05);

	&:hover {
		background: darken($speek-accent, 5%);
		color: $speek-accent-fg;
		text-decoration: none;
		transform: translateY(-1px);
		box-shadow: 0px 6px 10px -4px rgba(0, 0, 0, 0.1),
			0px 12px 20px -3px rgba(0, 0, 0, 0.1);
	}

	&:active {
		transform: translateY(0);
	}
}

.speek-btn-outline {
	background: $speek-card-bg;
	color: $speek-primary;
	border: 1px solid $speek-border;
	box-shadow: 0px 2px 4px -2px rgba(0, 0, 0, 0.05),
		0px 4px 6px -1px rgba(0, 0, 0, 0.05);

	&:hover {
		background: #f8f8f8;
		border-color: $speek-primary;
		color: $speek-primary;
		text-decoration: none;
	}
}

.speek-btn-dropdown {
	padding-right: 24px;

	.fa-chevron-down {
		font-size: 12px;
	}
}

// =====================================
// Main Content Area
// =====================================
.speek-category-content {
	padding: 0;
}

.speek-category-main {
	width: 100%;
	padding: 0 !important;
}

// =====================================
// Post Cards (Styled Topics List)
// =====================================

.page-category {
	.topics-list.speek-topics-list {
		display: flex;
		flex-direction: column;
		gap: 16px;
		
		.category-item.speek-post-card {
			background: #fdfdfc;
			border-radius: 16px;
			border: 1px solid $speek-border-light;
			padding: 24px;
			border: 1px solid $speek-border-light !important;
			box-shadow: 0px 2px 4px -2px rgba(0, 0, 0, 0.05),
				0px 4px 6px -1px rgba(0, 0, 0, 0.05);
			transition: box-shadow 0.2s ease;

			&:hover {
				box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
			}

			// Header: Avatar + User Info
			.speek-post-card-header {
				display: flex;
				align-items: center;
				gap: 12px;
				margin-bottom: 16px;

				.speek-user-avatar {
					flex-shrink: 0;
					text-decoration: none;

					.avatar {
						width: 48px;
						height: 48px;
						border-radius: 9999px !important;
						background: #f6ffa3 !important;
						display: inline-flex;
						align-items: center;
						justify-content: center;
						font-family: "DM Sans", var(--bs-body-font-family);
						font-size: 14px !important;
						font-weight: 700;
						color: #27454b !important;
					}
				}

				.speek-user-info {
					display: flex;
					flex-direction: column;
					gap: 4px;

					.speek-user-name {
							font-family: "DM Sans", var(--bs-body-font-family);
							font-size: 16px;
							font-weight: 700;
							line-height: 1.5;
							color: #122023;
						text-decoration: none;

						&:hover {
							text-decoration: underline;
						}
					}

					.speek-post-timestamp {
							font-family: "DM Sans", var(--bs-body-font-family);
							font-size: 14px;
							line-height: 1.4286;
							color: #6b7280;
					}
				}
			}

			// Content: Title + Preview
			.speek-post-card-content {
				margin-bottom: 16px;

				.speek-post-link {
					text-decoration: none;
					color: inherit;

					&:hover .speek-post-title {
						color: #355e66;
					}
				}

				.speek-post-title {
					font-family: "DM Sans", var(--bs-body-font-family);
					font-size: 18px;
					font-weight: 700;
					line-height: 1.556;
					margin: 0 0 8px 0;
					color: #355e66;
					transition: color 0.2s ease;
				}

				.speek-post-preview {
					font-family: "DM Sans", var(--bs-body-font-family);
					font-size: 14px;
					line-height: 1.6;
					color: #525252;
					margin: 0;
					display: block;
				}
			}

			// Footer: Reactions
			.speek-post-card-footer {
				display: flex;
				gap: 24px;
				align-items: center;

				.speek-reaction-item {
					display: flex;
					align-items: center;
					gap: 8px;
					font-family: "DM Sans", var(--bs-body-font-family);
					font-size: 14px;
					color: $speek-primary;

					.lucide-icon.speek-reaction-icon {
						width: 24px;
						height: 24px;
						color: currentColor;
						stroke: currentColor;
						stroke-width: 2;
					}

					.speek-reaction-count {
						font-family: "DM Sans", var(--bs-body-font-family);
						font-size: 16px;
						font-weight: 700;
						line-height: 1.5;
						color: #355e66;
					}
				}
			}
		}
	}
}

// Carousel cards
.speek-post-card {
	// Space badge for carousel version
	.speek-space-badge {
		display: inline-flex;
		align-items: center;
		padding: 2px 8px;
		background: rgba(255, 255, 255, 0.5);
		border: 1px solid $speek-border-light;
		border-radius: 8px;
		font-size: 12px;
		font-weight: 600;
		color: $speek-primary;
		margin-bottom: 8px;
		width: fit-content;
	}
}

.speek-post-card-header {
	display: flex;
	align-items: center;
	gap: 12px;

	.speek-user-avatar {
		flex-shrink: 0;
		width: 48px;
		height: 48px;
		display: inline-flex;
		align-items: center;
		justify-content: center;
		border-radius: 9999px;
		background: #F6FFA3;
		border: 1px solid rgba(17, 24, 39, 0.08);
		overflow: hidden;

		.avatar,
		img {
			width: 100%;
			height: 100%;
			border-radius: 9999px;
			object-fit: cover;
		}

		.avatar {
			background: #F6FFA3 !important;
			color: #27454B !important;
			font-family: "DM Sans", var(--bs-body-font-family);
			font-weight: 700;
			font-size: 16px;
			display: inline-flex;
			align-items: center;
			justify-content: center;
			text-transform: uppercase;
		}

		.avatar-letter {
			background: #f6ffa3 !important;
			color: #27454b !important;
			font-family: "DM Sans", var(--bs-body-font-family);
			font-weight: 700;
			font-size: 14px;
			display: inline-flex;
			align-items: center;
			justify-content: center;
			width: 48px;
			height: 48px;
			border-radius: 9999px !important;
		}
	}

	.speek-user-info {
		display: flex;
		flex-direction: column;
		gap: 4px;
		flex: 1;
		min-width: 0;
	}

	.speek-user-name {
		font-family: "DM Sans", var(--bs-body-font-family);
		font-size: 16px;
		font-weight: 700;
		color: #122023;
		text-decoration: none;

		&:hover,
		&:focus,
		&:active {
			text-decoration: none !important;
		}
	}

	.speek-post-timestamp {
		font-family: "DM Sans", var(--bs-body-font-family);
		font-size: 14px;
		color: #6b7280;
	}
}

.speek-post-card-content {
	.speek-post-link {
		text-decoration: none;
		color: inherit;

		&:hover .speek-post-title {
			color: #355e66;
		}
	}

	.speek-post-title {
		font-family: "DM Sans", var(--bs-body-font-family);
		font-size: 18px;
		font-weight: 700;
		line-height: 1.556;
		color: #355e66;
		margin: 0 0 8px 0;
		transition: color 0.2s;
	}

	.speek-post-preview {
		font-family: "DM Sans", var(--bs-body-font-family);
		font-size: 14px;
		line-height: 1.6;
		color: #525252;
		margin: 0;
		display: -webkit-box;
		line-clamp: 3;
		-webkit-line-clamp: 3;
		-webkit-box-orient: vertical;
		overflow: hidden;
	}
}

.speek-post-card-footer {
	display: flex;
	gap: 16px;
	align-items: center;

	.speek-reaction-item {
		display: flex;
		align-items: center;
		gap: 8px;

		i,
		.lucide-icon {
			width: 24px;
			height: 24px;
			font-size: 16px;
			color: #355e66;
		}

		.speek-reaction-count {
			font-family: "DM Sans", var(--bs-body-font-family);
			font-size: 16px;
			font-weight: 700;
			color: #355e66;
		}
	}
}

// =====================================
// Carousel Sections
// =====================================
.speek-carousel-section {
	padding: 32px 0;
	margin: 0 24px;
	border-top: 1px solid $speek-border-light;

	&:first-of-type {
		border-top: none;
	}
}

.speek-carousel-header {
	display: flex;
	justify-content: space-between;
	align-items: flex-start;
	margin-bottom: 24px;
	gap: 16px;

	.speek-carousel-title-area {
		flex: 1;

		.speek-section-title {
			font-size: 20px;
			font-weight: 700;
			line-height: 1.3;
			color: $speek-primary;
			margin: 0 0 8px 0;
		}

		.speek-section-description {
			font-size: 16px;
			line-height: 1.5;
			color: $speek-secondary-text;
			margin: 0;
		}
	}

	.speek-carousel-nav {
		display: flex;
		gap: 8px;
	}
}

.speek-carousel-btn {
	width: 40px;
	height: 40px;
	border-radius: 50%;
	background: $speek-card-bg;
	border: 1px solid $speek-border;
	display: flex;
	align-items: center;
	justify-content: center;
	cursor: pointer;
	transition: all 0.2s ease;
	color: $speek-primary;

	&:hover:not(:disabled) {
		background: #f8f8f8;
		border-color: $speek-primary;
	}

	&:disabled {
		opacity: 0.3;
		cursor: not-allowed;
	}

	i {
		font-size: 16px;
	}
}

.speek-carousel-container {
	position: relative;
	overflow: hidden;
}

.speek-carousel-track {
	display: flex;
	gap: 16px;
	overflow-x: auto;
	scroll-behavior: smooth;
	padding-bottom: 16px;
	margin-bottom: -16px;

	// Hide scrollbar but keep functionality
	scrollbar-width: none; // Firefox
	-ms-overflow-style: none; // IE/Edge

	&::-webkit-scrollbar {
		display: none; // Chrome/Safari
	}

	.speek-post-card {
		flex: 0 0 auto;
		width: 350px;
		max-width: 90vw;
	}
}

// =====================================
// Space/Category Cards
// =====================================
.speek-space-card {
	position: relative;
	display: flex;
	flex-direction: column;
	gap: 16px;
	background: $speek-card-bg;
	border: 1px solid $speek-border-light;
	border-radius: 16px;
	padding: 40px 24px 24px;
	flex: 0 0 auto;
	width: 300px;
	max-width: 90vw;
	transition: box-shadow 0.2s ease;

	&:hover {
		box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
	}

	.speek-space-icon-container {
		position: absolute;
		top: -20px;
		left: 24px;
		width: 48px;
		height: 48px;
		padding: 12px;
		border-radius: 50%;
		background: $speek-accent;
		display: flex;
		align-items: center;
		justify-content: center;
		box-shadow: 0px 4px 6px -4px rgba(0, 0, 0, 0.05),
			0px 10px 15px -3px rgba(0, 0, 0, 0.05);

		// Lucide SVG icons
		svg {
			width: 24px;
			height: 24px;
			color: $speek-accent-fg;
			stroke-width: 2;
		}

		// Fallback icon styling (if using icon element)
		.speek-space-icon, .icon {
			width: 24px;
			height: 24px;
			font-size: 20px;
			color: $speek-accent-fg;
			
			i {
				color: $speek-accent-fg;
			}
		}
	}

.speek-space-content {
		display: flex;
		flex-direction: column;
		gap: 8px;
		flex: 1;
	}

	.speek-space-title {
		font-size: 18px;
		font-weight: 700;
		line-height: 1.556;
		color: $speek-primary;
		margin: 0;

		a {
			color: inherit;
			text-decoration: none;

			&:hover {
				text-decoration: underline;
			}
		}
	}

	.speek-space-description {
		font-size: 14px;
		line-height: 1.429;
		color: $speek-secondary-text;
		margin: 0;
		display: -webkit-box;
		line-clamp: 2;
		-webkit-line-clamp: 2;
		-webkit-box-orient: vertical;
		overflow: hidden;
	}

	.speek-space-badges {
		display: flex;
		gap: 8px;
		flex-wrap: wrap;
	}

	.speek-badge {
		display: inline-flex;
		align-items: center;
		padding: 2px 8px;
		border-radius: 8px;
		font-size: 12px;
		font-weight: 600;
		line-height: 1.333;
		white-space: nowrap;

	&__label {
		color: inherit;
	}

	&__suffix {
		margin-left: 4px;
		color: inherit;
	}
	}

	.speek-badge-posts {
		background: rgba(255, 255, 255, 0.5);
		border: 1px solid $speek-border-light;
		color: $speek-primary;
	}

	.speek-badge-new {
		background: $speek-accent;
		border: 1px solid transparent;
		color: $speek-accent-fg;
	}

	.speek-btn-view-space {
		margin-top: auto;
		align-self: flex-start;
	}
}

// =====================================
// Responsive Design
// =====================================

// Mobile
@media (max-width: 767px) {
	.speek-category-header {
		padding-top: 16px;
		padding-bottom: 16px;
		padding-left: 0 !important;
		padding-right: 0 !important;
		
		.speek-header-bar {
			flex-direction: column;
			align-items: flex-start;
			gap: 12px;
		}
		
		.speek-header-actions {
			width: 100%;
			justify-content: flex-start;
		}
		
		.speek-category-title {
			font-size: 24px;
		}
		
		.speek-category-description {
			font-size: 14px;
		}
	}

	.speek-category-main {
		padding: 0 !important;
	}
	
	// Post cards mobile responsive
	.page-category .topics-list.speek-topics-list .category-item.speek-post-card {
		padding: 16px;
		gap: 12px;

		.speek-post-card-header {
			margin-bottom: 12px;
		}

		.speek-post-card-content {
			margin-bottom: 12px;

			.speek-post-title {
				font-size: 16px;
			}

			.speek-post-preview {
				font-size: 13px;
			}
		}
		
		.speek-post-card-footer {
			gap: 16px;
		}
	}

	.speek-carousel-section {
		margin: 0 16px;
	}

	.speek-carousel-header {
		flex-direction: column;
	}

	.speek-carousel-nav {
		display: none; // Hide arrows on mobile, use swipe
	}

	.speek-post-card {
		padding: 20px;
	}

	.speek-carousel-track {
		.speek-post-card,
		.speek-space-card {
			width: 280px;
		}
	}
}

// Tablet
@media (min-width: 768px) and (max-width: 1199px) {
	.speek-carousel-track {
		.speek-post-card {
			width: 320px;
		}

		.speek-space-card {
			width: 280px;
		}
	}
}

// Desktop
@media (min-width: 1200px) {
	.speek-carousel-track {
		.speek-post-card {
			width: 380px;
		}

		.speek-space-card {
			width: 320px;
		}
	}
}